{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/App/App.module.css","Components/Searchbar/Searchbar.js","service/api.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","img/Nothing.jpg","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchValue","setsearchValue","className","s","Searchbar","e","preventDefault","trim","toast","error","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","currentTarget","value","autoComplete","autoFocus","placeholder","api","searchWord","page","fetch","then","res","ok","json","Promise","reject","Error","ImageGalleryItem","img","onClick","largeImageURL","bigimg","src","webformatURL","alt","tag","ImageGalleryItem_image","Button","state","changePage","props","this","Component","propType","PropTypes","func","isRequired","ImageGallery","search","onShowModal","modalImg","imgName","setimgName","seterror","status","setstatus","setpage","handlerClick","largeImg","useEffect","hits","imgs","catch","err","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","p","width","map","id","color","height","loader","length","protoType","string","Modal","close","children","portalModal","querySelector","handleKeydown","code","addEventListener","removeEventListener","createPortal","Overlay","target","App","setsearch","showModal","setshowModal","setmodalimg","toggleModal","autoClose","position","url","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0659c64d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Sxfsx\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3g4LV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3gB_h\",\"Modal\":\"Modal_Modal__1NXmS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1dLOE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1ah4O\"};","import { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [searchValue, setsearchValue] = useState(\"\");\r\n\r\n  function handlerSubmit(e) {\r\n    e.preventDefault();\r\n    if (searchValue.trim() === \"\") {\r\n      toast.error(\"enter search word\");\r\n      return;\r\n    }\r\n    onSubmit(searchValue);\r\n    setsearchValue(\"\");\r\n  }\r\n\r\n  function handlerSearch(e) {\r\n    setsearchValue(e.currentTarget.value);\r\n  }\r\n\r\n  return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={handlerSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchForm_button}>\r\n          <span className={s.SearchForm_button_label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchForm_input}\r\n          type=\"text\"\r\n          onChange={handlerSearch}\r\n          value={searchValue}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","export default function api(searchWord, page = 1) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${searchWord}&page=${page}&key=23293955-a7595990e0e78e906d7de269f&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((res) => {\r\n    if (res.ok) return res.json();\r\n    else {\r\n      return Promise.reject(new Error(\"find nothing\"));\r\n    }\r\n  });\r\n}\r\n","import s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGalleryItem({ img, onClick }) {\r\n  const handlerOnClick = () => {\r\n    onClick(img.largeImageURL);\r\n  };\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        onClick={handlerOnClick}\r\n        bigimg={img.largeImageURL}\r\n        src={img.webformatURL}\r\n        alt={img.tag}\r\n        className={s.ImageGalleryItem_image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  img: PropTypes.shape({\r\n    largeImageURL: PropTypes.string.isRequired,\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tag: PropTypes.array,\r\n  }),\r\n};\r\n","import { Component } from \"react/cjs/react.production.min\";\r\nimport s from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default class Button extends Component {\r\n  state = {};\r\n\r\n  changePage = () => {\r\n    this.props.onSubmit();\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.Button} onClick={this.changePage}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.propType = { onSubmit: PropTypes.func.isRequired };\r\n","export default __webpack_public_path__ + \"static/media/Nothing.df37ddbd.jpg\";","import { useState, useEffect } from \"react\";\r\nimport api from \"../../service/api\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Button from \"../Button/Button\";\r\nimport p from \"../../img/Nothing.jpg\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function ImageGallery({ search, onShowModal, modalImg }) {\r\n  const [imgName, setimgName] = useState([]);\r\n  const [error, seterror] = useState(\"\");\r\n  const [status, setstatus] = useState(\"idle\");\r\n  const [page, setpage] = useState(1);\r\n\r\n  function loadMore() {\r\n    setpage((prevState) => prevState + 1);\r\n  }\r\n\r\n  function handlerClick(largeImg) {\r\n    if (largeImg) {\r\n      onShowModal();\r\n      modalImg(largeImg);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (search === null) {\r\n      return;\r\n    }\r\n    setstatus(\"pending\");\r\n    api(search)\r\n      .then((res) => {\r\n        return res.hits;\r\n      })\r\n      .then((imgs) => {\r\n        setimgName(imgs);\r\n        setstatus(\"resolved\");\r\n      })\r\n      .catch((err) => {\r\n        seterror(err);\r\n        setstatus(\"reject\");\r\n      });\r\n  }, [search]);\r\n\r\n  useEffect(() => {\r\n    if (page === 1) {\r\n      return;\r\n    }\r\n    setstatus(\"pending\");\r\n    api(search, page)\r\n      .then((res) => {\r\n        return res.hits;\r\n      })\r\n      .then((imgName) => {\r\n        setimgName((prevState) => [...prevState, ...imgName]);\r\n        setstatus(\"resolved\");\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: \"smooth\",\r\n        });\r\n      });\r\n  }, [page, search]);\r\n\r\n  if (status === \"idle\") return <img src={p} alt=\"nothing\" width=\"100%\" />;\r\n\r\n  if (status === \"pending\")\r\n    return (\r\n      <div>\r\n        {imgName && (\r\n          <ul className={s.ImageGallery}>\r\n            {imgName.map((img) => (\r\n              <ImageGalleryItem onClick={handlerClick} img={img} key={img.id} />\r\n            ))}\r\n          </ul>\r\n        )}\r\n\r\n        <Loader\r\n          type=\"Grid\"\r\n          color=\"#00BFFF\"\r\n          height={100}\r\n          width={100}\r\n          className={s.loader}\r\n        />\r\n      </div>\r\n    );\r\n  if (status === \"rejected\") return <p>{error}</p>;\r\n  if (status === \"resolved\")\r\n    return (\r\n      <div>\r\n        {imgName.length > 0 ? (\r\n          <ul className={s.ImageGallery}>\r\n            {imgName.map((img) => (\r\n              <ImageGalleryItem onClick={handlerClick} img={img} key={img.id} />\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <img src={p} alt=\"nothing\" width=\"100%\" />\r\n        )}\r\n\r\n        {imgName.length >= 12 && <Button onSubmit={loadMore} />}\r\n      </div>\r\n    );\r\n}\r\n\r\nImageGallery.protoType = {\r\n  search: PropTypes.string.isRequired,\r\n  onShowModal: PropTypes.func.isRequired,\r\n  modalImg: PropTypes.func.isRequired,\r\n};\r\n","import { createPortal } from \"react-dom\";\r\nimport { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default function Modal({ close, children }) {\r\n  const portalModal = document.querySelector(\"#nodalRoot\");\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeydown);\r\n    return function removeLisener() {\r\n      window.removeEventListener(\"keydown\", handleKeydown);\r\n    };\r\n  });\r\n\r\n  function handleKeydown(e) {\r\n    if (e.code === \"Escape\") close();\r\n  }\r\n\r\n  function closeModal(e) {\r\n    if (e.currentTarget === e.target) {\r\n      close();\r\n    }\r\n  }\r\n\r\n  return createPortal(\r\n    <div className={s.Overlay} onClick={closeModal}>\r\n      <div className={s.Modal}>{children}</div>\r\n    </div>,\r\n    portalModal\r\n  );\r\n}\r\n\r\nModal.propTypes = { children: PropTypes.element, close: PropTypes.func };\r\n","import { useState } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport SearchBar from \"../Searchbar/Searchbar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport s from \"./App.module.css\";\r\n\r\nexport default function App() {\r\n  const [search, setsearch] = useState(null);\r\n\r\n  const [showModal, setshowModal] = useState(false);\r\n  const [modalImg, setmodalimg] = useState(null);\r\n\r\n  function handlerImgsName(value) {\r\n    setsearch(value);\r\n  }\r\n\r\n  function handlerImg(url) {\r\n    setmodalimg(url);\r\n  }\r\n\r\n  function toggleModal() {\r\n    setshowModal((prevState) => !prevState);\r\n  }\r\n\r\n  return (\r\n    <div className={s.App}>\r\n      <SearchBar onSubmit={handlerImgsName} />\r\n      <ToastContainer autoClose={5000} position=\"top-center\" />\r\n      <ImageGallery\r\n        search={search}\r\n        onShowModal={toggleModal}\r\n        modalImg={handlerImg}\r\n      />\r\n\r\n      {showModal && (\r\n        <Modal close={toggleModal}>\r\n          <img src={modalImg} alt=\"\" />\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2X0p8\",\"SearchForm\":\"Searchbar_SearchForm__1Xe1A\",\"SearchForm_button\":\"Searchbar_SearchForm_button__2o6By\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2YCBN\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__k_hwn\",\"SearchForm_input\":\"Searchbar_SearchForm_input__3utR8\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2d6gi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__lvQaV\",\"loader\":\"ImageGallery_loader__2eJvf\"};"],"sourceRoot":""}